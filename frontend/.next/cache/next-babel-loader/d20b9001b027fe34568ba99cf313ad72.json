{"ast":null,"code":"import _regeneratorRuntime from \"@babel/runtime/regenerator\";\nimport _classCallCheck from \"@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"@babel/runtime/helpers/esm/createClass\";\nimport _assertThisInitialized from \"@babel/runtime/helpers/esm/assertThisInitialized\";\nimport _inherits from \"@babel/runtime/helpers/esm/inherits\";\nimport _possibleConstructorReturn from \"@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _defineProperty from \"@babel/runtime/helpers/esm/defineProperty\";\nimport _taggedTemplateLiteral from \"@babel/runtime/helpers/esm/taggedTemplateLiteral\";\nvar _jsxFileName = \"/Users/lazarvasic/Projects/graphqlStart/frontend/components/CreateUser.js\";\nvar __jsx = React.createElement;\n\nfunction _createSuper(Derived) { return function () { var Super = _getPrototypeOf(Derived), result; if (_isNativeReflectConstruct()) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\n\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Date.prototype.toString.call(Reflect.construct(Date, [], function () {})); return true; } catch (e) { return false; } }\n\nfunction _templateObject2() {\n  var data = _taggedTemplateLiteral([\"\\n  mutation CRETE_USER($firstname: String!, $lastname: String!) {\\n    createUser(input: { firstname: $firstname, lastname: $lastname }) {\\n      id\\n      firstname\\n      lastname\\n    }\\n  }\\n\"]);\n\n  _templateObject2 = function _templateObject2() {\n    return data;\n  };\n\n  return data;\n}\n\nfunction _templateObject() {\n  var data = _taggedTemplateLiteral([\"\\n  border: 1px solid;\\n  display: grid;\\n  padding: 10px;\\n  font-family: Roboto;\\n  width: 250px;\\n  button {\\n    background-color: #fafafa;\\n    width: 230px;\\n  }\\n  input {\\n    width: 160px;\\n  }\\n  input,\\n  button {\\n    margin-top: 10px;\\n  }\\n\"]);\n\n  _templateObject = function _templateObject() {\n    return data;\n  };\n\n  return data;\n}\n\nimport React, { Component } from \"react\";\nimport Router from \"next/router\";\nimport { Mutation } from \"react-apollo\";\nimport gql from \"graphql-tag\";\nimport styled from \"styled-components\";\nimport { ProvidedRequiredArgumentsOnDirectivesRule } from \"graphql/validation/rules/ProvidedRequiredArgumentsRule\";\nvar Form = styled.form(_templateObject());\nvar CREATE_USER = gql(_templateObject2());\n\nvar User = /*#__PURE__*/function (_Component) {\n  _inherits(User, _Component);\n\n  var _super = _createSuper(User);\n\n  function User() {\n    var _this;\n\n    _classCallCheck(this, User);\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this = _super.call.apply(_super, [this].concat(args));\n\n    _defineProperty(_assertThisInitialized(_this), \"state\", {\n      firstname: \"Something\",\n      lastname: \"Else\"\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"handleChange\", function (_ref) {\n      var _ref$target = _ref.target,\n          name = _ref$target.name,\n          value = _ref$target.value;\n\n      _this.setState(_defineProperty({}, name, value));\n    });\n\n    return _this;\n  }\n\n  _createClass(User, [{\n    key: \"render\",\n    value: function render() {\n      var _this2 = this;\n\n      return __jsx(Mutation, {\n        mutation: CREATE_USER,\n        variables: this.state,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 48,\n          columnNumber: 7\n        }\n      }, function (createUser, _ref2) {\n        var loading = _ref2.loading,\n            error = _ref2.error;\n        return __jsx(Form, {\n          onSubmit: function _callee(e) {\n            var user;\n            return _regeneratorRuntime.async(function _callee$(_context) {\n              while (1) {\n                switch (_context.prev = _context.next) {\n                  case 0:\n                    console.log(\"MANIJAK\");\n                    e.preventDefault();\n                    _context.next = 4;\n                    return _regeneratorRuntime.awrap(createUser());\n\n                  case 4:\n                    user = _context.sent;\n                    console.log(user);\n\n                  case 6:\n                  case \"end\":\n                    return _context.stop();\n                }\n              }\n            }, null, null, null, Promise);\n          },\n          __self: _this2,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 50,\n            columnNumber: 11\n          }\n        }, loading && __jsx(\"p\", {\n          __self: _this2,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 58,\n            columnNumber: 25\n          }\n        }, \" Loading !!!\"), __jsx(\"label\", {\n          htmlFor: \"firstname\",\n          __self: _this2,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 59,\n            columnNumber: 13\n          }\n        }, \"First name\", __jsx(\"input\", {\n          type: \"text\",\n          name: \"firstname\",\n          id: \"firstname\",\n          value: _this2.state.firstname,\n          required: true,\n          onChange: _this2.handleChange,\n          __self: _this2,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 61,\n            columnNumber: 15\n          }\n        })), __jsx(\"label\", {\n          htmlFor: \"lastname\",\n          __self: _this2,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 70,\n            columnNumber: 13\n          }\n        }, \"Last name\", __jsx(\"input\", {\n          type: \"text\",\n          name: \"lastname\",\n          id: \"lastname\",\n          value: _this2.state.lastname,\n          required: true,\n          onChange: _this2.handleChange,\n          __self: _this2,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 72,\n            columnNumber: 15\n          }\n        })), __jsx(\"button\", {\n          type: \"submit\",\n          __self: _this2,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 81,\n            columnNumber: 13\n          }\n        }, \"\\uD83D\\uDC86\\u200D\\u2642\\uFE0F Create User\"));\n      });\n    }\n  }]);\n\n  return User;\n}(Component);\n\nexport default User;","map":{"version":3,"sources":["/Users/lazarvasic/Projects/graphqlStart/frontend/components/CreateUser.js"],"names":["React","Component","Router","Mutation","gql","styled","ProvidedRequiredArgumentsOnDirectivesRule","Form","form","CREATE_USER","User","firstname","lastname","target","name","value","setState","state","createUser","loading","error","e","console","log","preventDefault","user","handleChange"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAAA,OAAOA,KAAP,IAAgBC,SAAhB,QAAiC,OAAjC;AACA,OAAOC,MAAP,MAAmB,aAAnB;AACA,SAASC,QAAT,QAAyB,cAAzB;AACA,OAAOC,GAAP,MAAgB,aAAhB;AACA,OAAOC,MAAP,MAAmB,mBAAnB;AACA,SAASC,yCAAT,QAA0D,wDAA1D;AAEA,IAAMC,IAAI,GAAGF,MAAM,CAACG,IAAV,mBAAV;AAkBA,IAAMC,WAAW,GAAGL,GAAH,oBAAjB;;IAUMM,I;;;;;;;;;;;;;;;;4DACI;AACNC,MAAAA,SAAS,EAAE,WADL;AAENC,MAAAA,QAAQ,EAAE;AAFJ,K;;mEAKO,gBAAiC;AAAA,6BAA9BC,MAA8B;AAAA,UAApBC,IAAoB,eAApBA,IAAoB;AAAA,UAAdC,KAAc,eAAdA,KAAc;;AAC9C,YAAKC,QAAL,qBAAiBF,IAAjB,EAAwBC,KAAxB;AACD,K;;;;;;;6BAEQ;AAAA;;AACP,aACE,MAAC,QAAD;AAAU,QAAA,QAAQ,EAAEN,WAApB;AAAiC,QAAA,SAAS,EAAE,KAAKQ,KAAjD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACG,UAACC,UAAD;AAAA,YAAeC,OAAf,SAAeA,OAAf;AAAA,YAAwBC,KAAxB,SAAwBA,KAAxB;AAAA,eACC,MAAC,IAAD;AACE,UAAA,QAAQ,EAAE,iBAAOC,CAAP;AAAA;AAAA;AAAA;AAAA;AAAA;AACRC,oBAAAA,OAAO,CAACC,GAAR,CAAY,SAAZ;AACAF,oBAAAA,CAAC,CAACG,cAAF;AAFQ;AAAA,qDAGWN,UAAU,EAHrB;;AAAA;AAGFO,oBAAAA,IAHE;AAIRH,oBAAAA,OAAO,CAACC,GAAR,CAAYE,IAAZ;;AAJQ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,WADZ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,WAQGN,OAAO,IAAI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,0BARd,EASE;AAAO,UAAA,OAAO,EAAC,WAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,yBAEE;AACE,UAAA,IAAI,EAAC,MADP;AAEE,UAAA,IAAI,EAAC,WAFP;AAGE,UAAA,EAAE,EAAC,WAHL;AAIE,UAAA,KAAK,EAAE,MAAI,CAACF,KAAL,CAAWN,SAJpB;AAKE,UAAA,QAAQ,MALV;AAME,UAAA,QAAQ,EAAE,MAAI,CAACe,YANjB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,UAFF,CATF,EAoBE;AAAO,UAAA,OAAO,EAAC,UAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,wBAEE;AACE,UAAA,IAAI,EAAC,MADP;AAEE,UAAA,IAAI,EAAC,UAFP;AAGE,UAAA,EAAE,EAAC,UAHL;AAIE,UAAA,KAAK,EAAE,MAAI,CAACT,KAAL,CAAWL,QAJpB;AAKE,UAAA,QAAQ,MALV;AAME,UAAA,QAAQ,EAAE,MAAI,CAACc,YANjB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,UAFF,CApBF,EA+BE;AAAQ,UAAA,IAAI,EAAC,QAAb;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,wDA/BF,CADD;AAAA,OADH,CADF;AAuCD;;;;EAlDgBzB,S;;AAqDnB,eAAeS,IAAf","sourcesContent":["import React, { Component } from \"react\";\nimport Router from \"next/router\";\nimport { Mutation } from \"react-apollo\";\nimport gql from \"graphql-tag\";\nimport styled from \"styled-components\";\nimport { ProvidedRequiredArgumentsOnDirectivesRule } from \"graphql/validation/rules/ProvidedRequiredArgumentsRule\";\n\nconst Form = styled.form`\n  border: 1px solid;\n  display: grid;\n  padding: 10px;\n  font-family: Roboto;\n  width: 250px;\n  button {\n    background-color: #fafafa;\n    width: 230px;\n  }\n  input {\n    width: 160px;\n  }\n  input,\n  button {\n    margin-top: 10px;\n  }\n`;\nconst CREATE_USER = gql`\n  mutation CRETE_USER($firstname: String!, $lastname: String!) {\n    createUser(input: { firstname: $firstname, lastname: $lastname }) {\n      id\n      firstname\n      lastname\n    }\n  }\n`;\n\nclass User extends Component {\n  state = {\n    firstname: \"Something\",\n    lastname: \"Else\",\n  };\n\n  handleChange = ({ target: { name, value } }) => {\n    this.setState({ [name]: value });\n  };\n\n  render() {\n    return (\n      <Mutation mutation={CREATE_USER} variables={this.state}>\n        {(createUser, { loading, error }) => (\n          <Form\n            onSubmit={async (e) => {\n              console.log(\"MANIJAK\");\n              e.preventDefault();\n              const user = await createUser();\n              console.log(user);\n            }}\n          >\n            {loading && <p> Loading !!!</p>}\n            <label htmlFor=\"firstname\">\n              First name\n              <input\n                type=\"text\"\n                name=\"firstname\"\n                id=\"firstname\"\n                value={this.state.firstname}\n                required\n                onChange={this.handleChange}\n              />\n            </label>\n            <label htmlFor=\"lastname\">\n              Last name\n              <input\n                type=\"text\"\n                name=\"lastname\"\n                id=\"lastname\"\n                value={this.state.lastname}\n                required\n                onChange={this.handleChange}\n              />\n            </label>\n            <button type=\"submit\">💆‍♂️ Create User</button>\n          </Form>\n        )}\n      </Mutation>\n    );\n  }\n}\n\nexport default User;\n"]},"metadata":{},"sourceType":"module"}